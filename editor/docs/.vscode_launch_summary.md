# VS Code Launch Configurations Summary

This document summarizes the debug configurations added to `.vscode/launch.json` for the 4K Softsynth Editor.

## üéØ Available Debug Configurations

### Python Configurations

1. **Debug Tkinter Editor**

   - **Target**: `editor/__main__.py`
   - **Purpose**: Debug the stable Tkinter GUI
   - **Use Case**: GUI development, user interaction debugging
   - **Console**: Integrated terminal

2. **Debug CLI Editor**

   - **Purpose**: Debug command-line interface
   - **Use Case**: Headless operation, scripting, performance testing
   - **Console**: Integrated terminal

3. **Debug Editor Launcher**

   - **Target**: `editor/launch.py`
   - **Purpose**: Debug the smart launcher (launches tkinter)
   - **Use Case**: Interface selection logic debugging
   - **Args**: `["tkinter"]`

4. **Debug Test Script**
   - **Target**: `editor/debug_test.py`
   - **Purpose**: Verify debug environment setup
   - **Use Case**: Testing debug configuration, environment validation

### C++ Configurations (Existing)

5. **Debug softsynth**

   - **Target**: `softsynth/bin/softsynth`
   - **Purpose**: Debug native ARM64 synthesizer
   - **Use Case**: Low-level ARM64 debugging

6. **Debug test_softsynth**
   - **Target**: `softsynth/bin/test_softsynth`
   - **Purpose**: Debug ARM64 unit tests
   - **Use Case**: ARM64 function validation

## üîß Configuration Details

### Python Environment Setup

```json
{
  "python": "${workspaceFolder}/.venv/bin/python",
  "cwd": "${workspaceFolder}/editor",
  "env": {
    "PYTHONPATH": "${workspaceFolder}/editor"
  }
}
```

### Debug Settings

- **justMyCode**: `false` - Enables stepping into library code
- **stopOnEntry**: `false` - Normal startup (change to `true` for immediate break)
- **console**: `integratedTerminal` - Better VS Code integration

## üöÄ How to Use

### Starting a Debug Session

1. Open VS Code in the project root: `code /Users/henrikku/repos/4k-softsynth`
2. Open the file you want to debug (e.g., `editor/__main__.py`)
3. Set breakpoints by clicking in the left margin
4. Press **F5** or use **Run & Debug** panel
5. Select the appropriate configuration from dropdown

### Recommended Debug Workflow

#### For GUI Development

1. Use **"Debug Tkinter Editor"**
2. Set breakpoints in UI event handlers
3. Interact with GUI to trigger breakpoints
4. Step through code with F10/F11

#### for ARM64 Integration

1. Use **"Debug Tkinter Editor"** or **"Debug CLI Editor"**
2. Set breakpoints in `audio/synth_wrapper.py`
3. Trigger ARM64 functions via GUI or CLI
4. Step through Python ‚Üí C++ call chain

#### For Environment Issues

1. Use **"Debug Test Script"**
2. Verify all imports work correctly
3. Check ARM64 synthesizer initialization
4. Validate debug environment setup

## üõ†Ô∏è Debugging Features

### Breakpoint Types

- **Line breakpoints**: Click in left margin
- **Conditional breakpoints**: Right-click breakpoint
- **Function breakpoints**: Break on function entry
- **Exception breakpoints**: Break on exceptions

### Debug Console

Access variables and call functions while debugging:

```python
# Check synthesizer status
synth.is_ready()

# Get ARM64 constants
synth.get_constants()

# Test audio generation
audio = synth.render_audio(1000)
```

### Watch Variables

Add to Watch panel:

- `self.synth`
- `audio_data`
- `self.current_instrument`
- Parameter values

## üìÅ Related Files

- **Launch Config**: `.vscode/launch.json`
- **VS Code Settings**: `.vscode/settings.json`
- **Debug Guide**: `editor/DEBUGGING.md`
- **Test Script**: `editor/debug_test.py`

## ‚úÖ Verification

Run the debug test script to verify setup:

```bash
cd editor
python debug_test.py
```

Expected output:

```
‚úì Python executable: /path/to/.venv/bin/python
‚úì SynthWrapper import successful
‚úì ARM64 Synthesizer initialized: ready=True
‚úì ARM64 constants available: 10 items
üéâ Debug setup verification complete!
```

## üîç Troubleshooting

### Python Debugger Issues

- Ensure Python extension is installed in VS Code
- Check virtual environment activation
- Verify Python interpreter path in settings

### C++ Debug Issues

- Install C/C++ extension for VS Code
- Check LLDB configuration (macOS)
- Verify debug symbols in binaries

### Mixed Mode Debugging

- Start with Python configuration
- Use `justMyCode: false` to step into C++ extensions
- Consider external tools for deep ARM64 assembly analysis

The debug configurations provide comprehensive debugging support for both Python GUI/CLI applications and the underlying ARM64 synthesizer engine.
